<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>聯倉-和Server用API溝通</title>
        <link rel="stylesheet" href="css/main.css">
        <script src="js/jquery-1.11.1.min.js"></script>
        <script src="js/main.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qs/6.9.1/qs.min.js"></script>
        <script>
            function phone_post(){
                window.location = 'json:{"kind":"server_api","data":"post"}';
            }

            function phone_get(){
                window.location = 'json:{"kind":"server_api","data":"get"}';
            }

            function web_post() {
                axios({
                    url: 'https://nkl.socialbook.com.tw/api/Login/validate_code',
                    method: 'post',
                    data: {
                        code: 'test'
                    },
                    headers: {
                        Authorization: `CRrppi1DELemyXr83szSnahV`
                    }
                }).then(({data: response}) => {
                    $('#web_post_text').val(JSON.stringify(response));
                    console.debug(response);
                });
            }
            
            function web_get() {
                axios({
                    url: 'https://nkl.socialbook.com.tw/api/Analysis/getEnterpriseList',
                    method: 'get',
                    headers: {
                        Authorization: `CRrppi1DELemyXr83szSnahV`
                    }
                }).then(({data: response}) => {
                    $('#web_get_text').val(JSON.stringify(response));
                    console.debug(response);
                })
            }
        </script>    
    </head>
    <body>
        <div class="section">
            <button class="item" onclick="phone_post();">透過『手機』用POST和SERVER溝通</button>
            <textarea id="phone_post_text" style="width:100%;height:100px;" readonly></textarea>
            <br/>
            <br/>
            <button class="item" onclick="phone_get();">透過『手機』用GET和SERVER溝通</button>
            <textarea id="phone_get_text" style="width:100%;height:100px;" readonly></textarea>
            <br/>
            <br/>
            <button class="item" onclick="web_post();">透過『網頁』用POST和SERVER溝通</button>
            <textarea id="web_post_text" style="width:100%;height:100px;" readonly></textarea>
            <br/>
            <br/>
            <button class="item" onclick="web_get();">透過『網頁』用GET和SERVER溝通</button>
            <textarea id="web_get_text" style="width:100%;height:100px;" readonly></textarea>
        </div>
    </body>
</html>